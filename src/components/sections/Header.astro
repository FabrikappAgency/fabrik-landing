---
import { t } from "i18next";
import { Trans } from "astro-i18next/components";
import { getLangFromUrl } from "@/i18n/utils";
const lang = getLangFromUrl(Astro.url);

const navigationLabels = {
  process: t("navigation.process"),
  features: t("navigation.features"),
  testimonials: t("navigation.testimonials"),
  faq: t("navigation.faq"),
};

const navigation = [
  {
    label: t("navigation.process"),
    url: `#${navigationLabels.process.toLowerCase()}`,
  },
  {
    label:t("navigation.features"),
    url: `#${navigationLabels.features.toLowerCase()}`,
  },
  {
    label: t("navigation.testimonials"),
    url: `#${navigationLabels.testimonials.toLowerCase()}`,
  },
  {
    label: t("navigation.faq"),
    url: `#${navigationLabels.faq.toLowerCase()}`,
  },
];
---

<section
  class="relative block w-full py-6 leading-10 text-center text-indigo-900 bg-gray-900"
  data-tails-scripts="//unpkg.com/alpinejs"
  id="home"
>
  <div class="w-full px-6 mx-auto leading-10 text-center lg:px-8 max-w-7xl">
    <div
      class="box-border flex flex-wrap items-center justify-between -mx-4 text-indigo-900"
    >
      <div
        class="relative z-10 flex items-center w-auto px-4 leading-10 lg:flex-grow-0 lg:flex-shrink-0 lg:text-left"
      >
        <a
          href="#home"
          class="text-2xl font-black leading-none text-white select-none logo"
          ><Trans i18nKey="navigation.home">
            Fabrik<span
              class="w-full text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-blue-400 to-purple-400 lg:inline"
              >.dev</span
            >
          </Trans></a
        >
      </div>
      <div
        class="absolute left-0 z-0 justify-center hidden w-full px-4 -ml-5 space-x-4 font-medium leading-10 md:flex lg:-ml-0 lg:space-x-6 md:flex-grow-0 md:text-left lg:text-center"
      >
        {
          navigation.map((item, index) => (
            <a
              key={index}
              href={item.url}
              class="relative inline-block px-0.5 text-base font-bold text-gray-200 uppercase transition duration-150 ease hover:text-white"
            >
              <span class="block">{item.label}</span>
              <span class="absolute bottom-0 left-0 inline-block w-full h-2 -mb-2 overflow-hidden">
                <span
                  x-show="!hover"
                  class="absolute inset-0 inline-block w-full h-full transform translate-x-0 bg-gray-900"
                  x-transition:enter="transition ease-out duration-300"
                  x-transition:enter-start="-translate-x-full"
                  x-transition:enter-end="translate-x-0"
                  x-transition:leave="transition ease-out duration-300"
                  x-transition:leave-start="translate-x-0"
                  x-transition:leave-end="translate-x-full"
                />
                <svg
                  class="w-auto h-full text-green-400 fill-current"
                  viewBox="0 0 84 6"
                  xmlns="http://www.w3.org/2000/svg"
                  data-primary="green-400"
                >
                  <g stroke="none" stroke-width="1" fill-rule="evenodd">
                    <g transform="translate(-8)" fill-rule="nonzero">
                      <path
                        d="M90.3.9c-1.8 0-2.8.7-3.6 1.4-.7.5-1.2.9-2.4.9s-1.7-.4-2.4-.9c-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9s-1.7-.4-2.4-.9c-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9s-1.7-.4-2.4-.9c-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.9 1-1.2 1.5.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9s1.7.4 2.4.9c.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9 1.1 0 1.7.4 2.4.9.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9 1.1 0 1.7.4 2.4.9.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9s1.7.4 2.4.9c.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9 1.1 0 1.7.4 2.4.9.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9s1.7.4 2.4.9c.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9.6 0 1-.4 1-1s-.5-1-1-1z"
                        class=""
                      />
                    </g>
                  </g>
                </svg>
              </span>
            </a>
          ))
        }
      </div>
      <div
        class="relative items-center hidden px-4 mt-2 space-x-5 font-medium leading-10 md:flex md:flex-grow-0 md:flex-shrink-0 md:mt-0 md:text-right lg:flex-grow-0 lg:flex-shrink-0"
      >
        <a
          href=""
          class="relative inline-block text-base font-bold text-white bg-green-400 px-4 py-2 border-green-400 rounded-md shadow-sm transition duration-150 ease hover:text-white"
          onclick="Calendly.initPopupWidget({url: 'https://calendly.com/fabrikapp/free-30-min-mvp-consultation?month=2024-01'});return false;"
        >
          <span class="block">{t("navigation.bookACall")}</span>
          <span
            class="absolute bottom-0 left-0 inline-block w-full h-2 overflow-hidden rounded-md"
          >
            <span
              x-show="!hover"
              class="absolute inset-0 inline-block w-full h-full transform translate-x-0 bg-green-400 rounded-md"
              x-transition:enter="transition ease-out duration-300"
              x-transition:enter-start="-translate-x-full"
              x-transition:enter-end="translate-x-0"
              x-transition:leave="transition ease-out duration-300"
              x-transition:leave-start="translate-x-0"
              x-transition:leave-end="translate-x-full"></span>
            <svg
              class="w-full h-full text-white fill-current"
              viewBox="0 0 84 6"
              xmlns="http://www.w3.org/2000/svg"
              data-primary="white"
            >
              <g stroke="none" stroke-width="1" fill-rule="evenodd">
                <g transform="translate(-8)" fill-rule="nonzero">
                  <path
                    d="M90.3.9c-1.8 0-2.8.7-3.6 1.4-.7.5-1.2.9-2.4.9s-1.7-.4-2.4-.9c-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9s-1.7-.4-2.4-.9c-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9s-1.7-.4-2.4-.9c-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.9 1-1.2 1.5.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9s1.7.4 2.4.9c.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9 1.1 0 1.7.4 2.4.9.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9 1.1 0 1.7.4 2.4.9.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9s1.7.4 2.4.9c.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9 1.1 0 1.7.4 2.4.9.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9s1.7.4 2.4.9c.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9.6 0 1-.4 1-1s-.5-1-1-1z"
                    class=""></path>
                </g>
              </g>
            </svg>
          </span>
        </a>
      </div>
      {/* <!-- Mobile Button --> */}
      <button
        class="flex items-center justify-center h-full mr-5 text-white md:hidden"
        id="navMenuToggler"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 8h16M4 16h16"></path>
        </svg>
      </button>
    </div>

    <div
      class="fixed top-0 bottom-0 left-0 z-50 hidden w-5/6 max-w-md navbar-menu"
    >
      <div class="fixed inset-0 bg-gray-800 opacity-25 navbar-backdrop"></div>
      <nav
        class="relative flex flex-col justify-between w-full h-full px-10 py-10 overflow-y-hidden bg-gray-900 border-r"
      >
        <div
          class="relative z-10 flex items-center justify-between w-auto px-4 leading-10 lg:flex-grow-0 lg:flex-shrink-0 lg:text-left"
        >
          <a
            href=""
            class="text-2xl font-black leading-none text-white select-none logo"
            ><Trans i18nKey="navigation.home">
              Fabrik<span
                class="w-full text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-blue-400 to-purple-400 lg:inline"
                >.dev</span
              >
            </Trans></a
          >
          <button class="navbar-close" id="navMenuToggler">
            <svg
              class="w-6 h-6 text-gray-500 cursor-pointer hover:text-gray-500"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div>
          {
            navigation.map((item, index) => (
              <a
                key={index}
                class="block px-5 py-4 text-xl text-white hover:bg-gray-700 hover:text-green-400"
                href={item.url}
              >
                {item.label}
              </a>
            ))
          }
        </div>
        <div>
          <a
            href=""
            class="relative inline-block text-base font-bold text-white bg-green-400 px-4 py-2 border-green-400 rounded-md shadow-sm transition duration-150 ease hover:text-white"
            onclick="Calendly.initPopupWidget({url: 'https://calendly.com/fabrikapp/free-30-min-mvp-consultation?month=2024-01'});return false;"
          >
            <span class="block">{t("navigation.bookACall")}</span>
            <span
              class="absolute bottom-0 left-0 inline-block w-full h-2 overflow-hidden rounded-md"
            >
              <span
                x-show="!hover"
                class="absolute inset-0 inline-block w-full h-full transform translate-x-0 bg-green-400 rounded-md"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="-translate-x-full"
                x-transition:enter-end="translate-x-0"
                x-transition:leave="transition ease-out duration-300"
                x-transition:leave-start="translate-x-0"
                x-transition:leave-end="translate-x-full"></span>
              <svg
                class="w-full h-full text-white fill-current"
                viewBox="0 0 84 6"
                xmlns="http://www.w3.org/2000/svg"
                data-primary="white"
              >
                <g stroke="none" stroke-width="1" fill-rule="evenodd">
                  <g transform="translate(-8)" fill-rule="nonzero">
                    <path
                      d="M90.3.9c-1.8 0-2.8.7-3.6 1.4-.7.5-1.2.9-2.4.9s-1.7-.4-2.4-.9c-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9s-1.7-.4-2.4-.9c-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9s-1.7-.4-2.4-.9c-.8-.6-1.8-1.4-3.6-1.4s-2.8.7-3.6 1.4c-.7.5-1.2.9-2.4.9-1.1 0-1.7-.4-2.4-.9-.8-.6-1.9 1-1.2 1.5.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9s1.7.4 2.4.9c.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9 1.1 0 1.7.4 2.4.9.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9 1.1 0 1.7.4 2.4.9.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9s1.7.4 2.4.9c.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9 1.1 0 1.7.4 2.4.9.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9s1.7.4 2.4.9c.8.6 1.8 1.4 3.6 1.4s2.8-.7 3.6-1.4c.7-.5 1.2-.9 2.4-.9.6 0 1-.4 1-1s-.5-1-1-1z"
                      class=""></path>
                  </g>
                </g>
              </svg>
            </span>
          </a>
        </div>
      </nav>
      <!-- <div class="px-6 py-8 mb-6 border-t border-b border-gray-200">
        <a
          class="flex items-center text-sm font-semibold text-orange-900 hover:text-orange-600"
          href="#"
        >
          <svg
            width="18"
            height="16"
            viewBox="0 0 18 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M17.3337 6.05833C17.2811 5.9059 17.1854 5.77202 17.0582 5.67292C16.931 5.57381 16.7777 5.51374 16.617 5.5L11.8754 4.80833L9.75038 0.499999C9.68215 0.359106 9.5756 0.240284 9.44296 0.157143C9.31031 0.074003 9.15693 0.0299072 9.00039 0.0299072C8.84384 0.0299072 8.69046 0.074003 8.55781 0.157143C8.42517 0.240284 8.31862 0.359106 8.25039 0.499999L6.12539 4.8L1.38372 5.5C1.22949 5.52192 1.08449 5.58663 0.96518 5.6868C0.845868 5.78696 0.757021 5.91856 0.708721 6.06666C0.664509 6.21139 0.660541 6.36543 0.697245 6.51224C0.733948 6.65905 0.809936 6.7931 0.917055 6.9L4.35872 10.2333L3.52539 14.9667C3.49564 15.1229 3.51121 15.2844 3.57028 15.432C3.62935 15.5797 3.72943 15.7074 3.85872 15.8C3.98474 15.8901 4.13337 15.9433 4.28793 15.9536C4.44249 15.9639 4.59686 15.9309 4.73372 15.8583L9.00039 13.6333L13.2504 15.8667C13.3673 15.9326 13.4994 15.9671 13.6337 15.9667C13.8102 15.9673 13.9824 15.9118 14.1254 15.8083C14.2547 15.7157 14.3548 15.588 14.4138 15.4404C14.4729 15.2927 14.4885 15.1312 14.4587 14.975L13.6254 10.2417L17.067 6.90833C17.1874 6.8064 17.2763 6.67242 17.3235 6.52195C17.3707 6.37149 17.3742 6.21073 17.3337 6.05833ZM12.2087 9.39166C12.111 9.48619 12.0379 9.6032 11.9957 9.73247C11.9536 9.86175 11.9438 9.99937 11.9671 10.1333L12.5671 13.625L9.43372 11.9583C9.31315 11.8941 9.17865 11.8605 9.04205 11.8605C8.90546 11.8605 8.77095 11.8941 8.65039 11.9583L5.51705 13.625L6.11705 10.1333C6.14033 9.99937 6.13048 9.86175 6.08836 9.73247C6.04623 9.6032 5.97312 9.48619 5.87539 9.39166L3.37539 6.89166L6.88372 6.38333C7.01872 6.36455 7.14705 6.31295 7.25747 6.23304C7.36789 6.15313 7.45702 6.04736 7.51705 5.925L9.00039 2.75L10.5671 5.93333C10.6271 6.0557 10.7162 6.16147 10.8266 6.24137C10.9371 6.32128 11.0654 6.37289 11.2004 6.39166L14.7087 6.9L12.2087 9.39166Z"
              fill="currentColor"></path>
          </svg>
          <span class="ml-3">Upgrade to Premium</span>
        </a>
      </div> -->
      <!-- <div class="flex items-center px-6 mb-16">
        <a
          class="inline-block text-sm font-semibold text-orange-900 mr-9 hover:text-gray-900"
          href="#">Sign In</a
        >
        <a
          class="inline-block px-4 py-3 text-sm font-semibold text-orange-900 transition duration-200 border border-gray-300 rounded-md hover:text-white hover:border-orange-600 hover:bg-orange-900"
          href="#">Create an account</a
        >
      </div> -->
    </div>
  </div>
</section>

<script>
  const navMenuToggler = document.querySelectorAll("#navMenuToggler");
  const navbarMenu = document.querySelector(".navbar-menu");
  navMenuToggler.forEach((el) => {
    el.addEventListener("click", () => {
      navbarMenu?.classList.toggle("hidden");
    });
  });
</script>
